language: node_js
node_js:
- '6'
cache:
  directories:
  - node_modules
sudo: required
services:
- docker
before_install:
- hooks/travis/before_install
install:
- hooks/travis/install
script:
- hooks/travis/script
branches:
  only:
  - master
  - staging
deploy:
  provider: script
  script: hooks/travis/deploy
  skip_cleanup: true
  on:
    repo: garlictech/gtrack-admin-site
    all_branches: true
    condition: "$TRAVIS_BRANCH == master || $TRAVIS_BRANCH == staging"
after_success:
- hooks/travis/after_success
after_deploy:
- hooks/travis/after_deploy
notifications:
  slack:
    rooms:
      secure: QNut1iavI0oEmms89Zii8YfrQBeNE7KimNg1gaisN0ddH3r3CgjBLCk94IQCIyAoHM7+6MXdsGoFYcWu1+eB8oZp1ahigyC+zO1/ljZ4eg+9M3b0cLlChL2f71+UmFv3s2v5pl3t832aH787LtnPVsnLKDGJowRSil9ovOqzbGfRKHDqaZfHhDGwvpi9Tbn9FxWR+UJnsK2VR0AUmtc5aOSK8pYOcpFFV2IKx301KT1SSD1GxUHe0BQ3vuq/hSuYz+2+a5tcosKQomKab7E52LVO5cmQXzTAAZ9NjK3PTfwFK0gsR0rvQ4TQPXHfdKmKryaVn77SqNKhCrzzKlnmANTFcvUPMkuz+yhedRSHLLuc85suaEQUbqhnnZttYvqmWcUR6+NZFFEQ1LlatVu3qfCn0XT7iljonnn3xTrt6ctBUIg5AyCPOzBkUOgiPzhjrSCda5JXw68JkT/NUi7cR0fuUHHOlyBJKj/sYFsB+L6bWM+6KSXUQ9NGShHiogQdKShwYzDCNGwQNmj1aOoykgum4iDWLSPf8KXadOgndCl7sP60Ch9uhusf4/1lw6OQpGhvIhxxp3K8vsIqaM7s1qJDslWkSFvGzgyt3OoT02kFGKHBHNoCrNUkqeh/YgWgAWFYa3O/gPh6+5OTc1JzWu46zrFD7ifiIhMrtlAE73s=
