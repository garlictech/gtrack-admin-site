language: node_js
node_js:
- '6'
cache:
  directories:
  - node_modules
sudo: required
services:
- docker
before_install:
- hooks/travis/before_install
install:
- hooks/travis/install
script:
- hooks/travis/script
branches:
  only:
  - master
  - staging
deploy:
  provider: script
  script: hooks/travis/deploy
  skip_cleanup: true
  on:
    repo: garlictech/gtrack-admin-site
    all_branches: true
    condition: "$TRAVIS_BRANCH == master || $TRAVIS_BRANCH == staging"
after_success:
- hooks/travis/after_success
after_deploy:
- hooks/travis/after_deploy
notifications:
  slack:
    rooms:
      secure: c71b/ceVDRbS3xsccsA9rltS2GaPE+ifzeFNql44iDzeUIgZbCn996WgOyhGCh3N+N1NW9XSbT5jbnlAKWIjRh2bT0n10D10goHmlGsWplfn09T7oEAgR2mKbAXbWonWj3m67cHAwmiuJOPVXuT8PNwTHCuesQVajjq09rhjIUaUtisVvr8BPgpmxJUzVLXY0BAFRg7XmdbBRc8nln+f9qu/cH1zBABZynE5XlZ3xUieAsizKXY86M9iOv3C666DLKhNOFtZlKol3sfVlN9x9cMeKxKARok1zGL8eEDQtgQGU+jvwpMPPY5qiO54gDCk9/Um29dZc4a6CVU+bab+yRt6SqhhmyOgHWIODOsaRb7RyZ1A0WvG3r6JYePVvcytPUm6QoWoEAP4uLlpvNjuWQsb0hLDstE64WIRpkPaU3DNKvSyZmUbrWV5E87+uMvR1jffiV9nZovXFDYUP5umx7KD0Kh/nvW84cL7ThIOYQ6dDJ7cj346x3i7IjPcDO8p9ufRC/JuIL5iiDcH/dGnBEohJJvvjP6EhWgm4SFcrDQkUDqPAoiY310WASmETGGSLhjnq7PiwssNZXfJAbbVY1iJWEcdfsnA36djWt9uyqT62qhJFvIcT65fEirkMZ2uD56pg5MwJZLuKhWJH43GVm1ue9o/A8KTulIJgKHKwN4=
