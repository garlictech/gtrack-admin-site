language: node_js
node_js:
- '6'
cache:
  directories:
  - node_modules
sudo: required
services:
- docker
before_install:
- hooks/travis/before_install
install:
- hooks/travis/install
script:
- hooks/travis/script
branches:
  only:
  - master
  - staging
deploy:
  provider: script
  script: hooks/travis/deploy
  skip_cleanup: true
  on:
    repo: garlictech/gtrack-admin-site
    all_branches: true
    condition: "$TRAVIS_BRANCH == master || $TRAVIS_BRANCH == staging"
after_success:
- hooks/travis/after_success
after_deploy:
- hooks/travis/after_deploy
notifications:
  slack:
    rooms:
      secure: D5yhLbToRIoawgMw6hH3ZE6Re0/weFwqbkxseBrfaFBtFYXjKzv+TdQaNMOVItt16gm0g08VzzmbQ1Ca9VKV06X4ykaWvwAjH99c6hY1YfS8DExafgGmYudVgQqHPXg+SI3QeccE8F8lER0Ucry9xu72u9CZAuN1oC4/2b3Yv21a3qtGcZugi6uWiWe31W0Nm0MxQS2m+bKrkNjrmjleyjkwXrf4mVV0CmGlnHcqsmzNN1DxXuAVAgieJDKuRh9RErcsnwhA6j1/s8cv2A+URZOVHkoFhqikYd2mxg6gPMNkyYrmOvnQPDRK1rYktiqT33u0TTbZMolhop4RUbUmBQ0TETbJ96uw46WbuD45bUb44Da1TSIbwp7fLm1NKJIRByakEP6ybdrt19iWEzPJqJuBwg5q94iRTiUcNiB12eUC3ojFmpSPCKXueoqZfam/uKZYNpKbelmG5hr5Z3aM24ZWQ0WJzU8gEZqTip8sBsSHFxNFh6gxW5TZNZmS7GVz7swNhHJsy5VWOU418nPZRKvVO87zYa7MU59NitGay7la9I6uyFN2BjVWBczzJgcUGv6dJSsyZeGcy6BP6UYqIfaSJxN9hfHHemx9T/uxwfenE+iDg4eUBMANv0uAvZE0+nFOkKa8YHOt/cKRxOzcp/rGrYbttt0so4D9Mz2roUA=
